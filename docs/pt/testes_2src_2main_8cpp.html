<!-- HTML header for doxygen 1.9.8-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head icon="docs/favicon.ic">
    <link rel="icon" type="image/x-icon" href="favicon.ico">
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Bubble Engine: main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
        <script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeDarkModeToggle.init()
        </script>
        <script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
        <script type="text/javascript">
            DoxygenAwesomeFragmentCopyButton.init()
        </script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="favicon.ico"/></td>
  <td id="projectalign">
   <div id="projectname">Bubble Engine<span id="projectnumber">&#160;1.1.0~beta</span>
   </div>
   <div id="projectbrief">Projeto independente de game engine eficiente para projetos pequenos</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('testes_2src_2main_8cpp.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;iostream&gt;</code><br />
<code>#include &quot;<a class="el" href="registro__testes_8hpp_source.html">registro_testes.hpp</a>&quot;</code><br />
<code>#include &quot;becommons/becommons.hpp&quot;</code><br />
</div><div class="textblock"><div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Include dependency graph for testes/src/main.cpp:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="testes_2src_2main_8cpp__incl.png" border="0" usemap="#amain_8cpp" alt=""/></div>
<map name="amain_8cpp" id="amain_8cpp">
<area shape="rect" title=" " alt="" coords="141,5,224,31"/>
<area shape="rect" title=" " alt="" coords="5,79,85,104"/>
<area shape="poly" title=" " alt="" coords="162,33,81,75,79,70,159,28"/>
<area shape="rect" href="registro__testes_8hpp.html" title="Gerencia a configuração do luabridge para api lua." alt="" coords="109,79,256,104"/>
<area shape="poly" title=" " alt="" coords="185,31,185,65,180,65,180,31"/>
<area shape="rect" title=" " alt="" coords="281,79,495,104"/>
<area shape="poly" title=" " alt="" coords="217,28,343,72,341,77,215,33"/>
<area shape="rect" title=" " alt="" coords="68,152,127,177"/>
<area shape="poly" title=" " alt="" coords="171,106,123,145,120,141,167,102"/>
<area shape="rect" title=" " alt="" coords="151,152,214,177"/>
<area shape="poly" title=" " alt="" coords="185,104,185,138,180,138,180,104"/>
<area shape="rect" title=" " alt="" coords="238,152,325,177"/>
<area shape="poly" title=" " alt="" coords="200,102,256,142,253,146,197,106"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCompA.html">CompA</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structCompB.html">CompB</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aef5ab481752c0cea9c5f3cb6d55487b0" id="r_aef5ab481752c0cea9c5f3cb6d55487b0"><td class="memItemLeft" align="right" valign="top"><a id="aef5ab481752c0cea9c5f3cb6d55487b0" name="aef5ab481752c0cea9c5f3cb6d55487b0"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarVetor4</b> ()</td></tr>
<tr class="separator:aef5ab481752c0cea9c5f3cb6d55487b0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a017079e716ca9dc9edaaf695bbe64b2b" id="r_a017079e716ca9dc9edaaf695bbe64b2b"><td class="memItemLeft" align="right" valign="top"><a id="a017079e716ca9dc9edaaf695bbe64b2b" name="a017079e716ca9dc9edaaf695bbe64b2b"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarVetor3</b> ()</td></tr>
<tr class="separator:a017079e716ca9dc9edaaf695bbe64b2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a48ebf866ea0d19508b99682a2dc772dd" id="r_a48ebf866ea0d19508b99682a2dc772dd"><td class="memItemLeft" align="right" valign="top"><a id="a48ebf866ea0d19508b99682a2dc772dd" name="a48ebf866ea0d19508b99682a2dc772dd"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarVetor2</b> ()</td></tr>
<tr class="separator:a48ebf866ea0d19508b99682a2dc772dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82bb85e0d3ff75fb2519ba623295e635" id="r_a82bb85e0d3ff75fb2519ba623295e635"><td class="memItemLeft" align="right" valign="top"><a id="a82bb85e0d3ff75fb2519ba623295e635" name="a82bb85e0d3ff75fb2519ba623295e635"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarUtils</b> ()</td></tr>
<tr class="separator:a82bb85e0d3ff75fb2519ba623295e635"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb32184a6891ee438628868460d23a3e" id="r_acb32184a6891ee438628868460d23a3e"><td class="memItemLeft" align="right" valign="top"><a id="acb32184a6891ee438628868460d23a3e" name="acb32184a6891ee438628868460d23a3e"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarFase</b> ()</td></tr>
<tr class="separator:acb32184a6891ee438628868460d23a3e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4e4897d66ed8c9ca3ea190dfc60b8d7a" id="r_a4e4897d66ed8c9ca3ea190dfc60b8d7a"><td class="memItemLeft" align="right" valign="top"><a id="a4e4897d66ed8c9ca3ea190dfc60b8d7a" name="a4e4897d66ed8c9ca3ea190dfc60b8d7a"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarRegistro</b> ()</td></tr>
<tr class="separator:a4e4897d66ed8c9ca3ea190dfc60b8d7a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a78b52a9581d5e8bcff2ffd555e1ed0ff" id="r_a78b52a9581d5e8bcff2ffd555e1ed0ff"><td class="memItemLeft" align="right" valign="top"><a id="a78b52a9581d5e8bcff2ffd555e1ed0ff" name="a78b52a9581d5e8bcff2ffd555e1ed0ff"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarMotor</b> ()</td></tr>
<tr class="separator:a78b52a9581d5e8bcff2ffd555e1ed0ff"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac299c31835236c6c4e8f1cafac7f2b04" id="r_ac299c31835236c6c4e8f1cafac7f2b04"><td class="memItemLeft" align="right" valign="top"><a id="ac299c31835236c6c4e8f1cafac7f2b04" name="ac299c31835236c6c4e8f1cafac7f2b04"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarNucleo</b> ()</td></tr>
<tr class="separator:ac299c31835236c6c4e8f1cafac7f2b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf6b920886aadc532ddeda8fff1c56a8" id="r_adf6b920886aadc532ddeda8fff1c56a8"><td class="memItemLeft" align="right" valign="top"><a id="adf6b920886aadc532ddeda8fff1c56a8" name="adf6b920886aadc532ddeda8fff1c56a8"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarBubbleGUI</b> ()</td></tr>
<tr class="separator:adf6b920886aadc532ddeda8fff1c56a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee5a6d8491596b87a0b5a2bad696efb" id="r_a4ee5a6d8491596b87a0b5a2bad696efb"><td class="memItemLeft" align="right" valign="top"><a id="a4ee5a6d8491596b87a0b5a2bad696efb" name="a4ee5a6d8491596b87a0b5a2bad696efb"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>testarSistemas</b> ()</td></tr>
<tr class="separator:a4ee5a6d8491596b87a0b5a2bad696efb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae66f6b31b5ad750f1fe042a706a4e3d4" id="r_ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="testes_2src_2main_8cpp.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main</a> ()</td></tr>
<tr class="memdesc:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sumário de responsabilidades da engine.  <br /></td></tr>
<tr class="separator:ae66f6b31b5ad750f1fe042a706a4e3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a3ba5392c3469e4d5223d4642bf4d032f" id="r_a3ba5392c3469e4d5223d4642bf4d032f"><td class="memItemLeft" align="right" valign="top"><a id="a3ba5392c3469e4d5223d4642bf4d032f" name="a3ba5392c3469e4d5223d4642bf4d032f"></a>
<a class="el" href="classbetest_1_1registro__testes.html">betest::registro_testes</a>&#160;</td><td class="memItemRight" valign="bottom"><b>testes</b></td></tr>
<tr class="separator:a3ba5392c3469e4d5223d4642bf4d032f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section copyright"><dt>Copyright</dt><dd>MIT License Copyright (c) 2025 Daniel Oliveira</dd></dl>
<p>Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the "Software"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:</p>
<p>The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.</p>
<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ae66f6b31b5ad750f1fe042a706a4e3d4" name="ae66f6b31b5ad750f1fe042a706a4e3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae66f6b31b5ad750f1fe042a706a4e3d4">&#9670;&#160;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sumário de responsabilidades da engine. </p>
<dl class="section author"><dt>Author</dt><dd>Daniel Oliveira </dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>MIT License</dd></dl>
<p>Comentários Doxygen a serem colocados no topo do projeto / módulos principais. Contém: Responsibilities, Invariantes, Assinaturas sugeridas e Observações para as partes testadas pelos testes em <code>main.cpp</code>.</p>
<hr  />
 <h1><a class="anchor" id="autotoc_md2"></a>
1) UTILS — Vetores (fvet2, fvet3, fvet4)</h1>
<h1><a class="anchor" id="utils_vectors"></a>
Responsabilidade</h1>
<p>Fornecer tipos de vetores (fvet2, fvet3, fvet4) com operações aritméticas básicas, comparações, normalização e cálculo de norma euclidiana.</p>
<h2><a class="anchor" id="utils_vectors_funcs"></a>
Operações esperadas / API sugerida</h2>
<ul>
<li>Operadores binários componente-a-componente:<ul>
<li>fvetN operator+(const fvetN&amp; a, const fvetN&amp; b);</li>
<li>fvetN operator-(const fvetN&amp; a, const fvetN&amp; b);</li>
<li>fvetN operator*(const fvetN&amp; a, const fvetN&amp; b);</li>
<li>fvetN operator/(const fvetN&amp; a, const fvetN&amp; b);</li>
</ul>
</li>
<li>Operadores com escalar (float):<ul>
<li>fvetN operator+(const fvetN&amp; a, float s);</li>
<li>fvetN operator-(const fvetN&amp; a, float s);</li>
<li>fvetN operator*(const fvetN&amp; a, float s);</li>
<li>fvetN operator/(const fvetN&amp; a, float s);</li>
</ul>
</li>
<li>Comparações:<ul>
<li>bool operator==(const fvetN&amp; a, const fvetN&amp; b);</li>
<li>bool operator!=(const fvetN&amp; a, const fvetN&amp; b);</li>
</ul>
</li>
<li>Normalização e norma:<ul>
<li>void normalizar(); ///&lt; normaliza (com proteção contra zero)</li>
<li>float tamanho() const; ///&lt; norma Euclidiana</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="utils_vectors_invariants"></a>
Invariantes e cuidados</h2>
<ul>
<li>Operações devem ser definidas componente-a-componente.</li>
<li><code>normalizar()</code> deve tratar vetor de comprimento ~0 (usar eps).</li>
<li>Usar comparações aproximadas (float_equal) quando necessário.</li>
<li>Evitar UB para NaN/Inf; documentar comportamento.</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Recomenda-se utilitário: <code>inline bool float_equal(float a, float b, float eps = 1e-6f);</code></dd></dl>
<hr  />
 <h1><a class="anchor" id="autotoc_md4"></a>
2) NÚCLEO — Registro / Entidade / Componente (ECS simplificado)</h1>
<h1><a class="anchor" id="nucleo_ecs"></a>
Responsabilidade</h1>
<p>Implementar um ECS básico que permita:</p><ul>
<li>criar entidades únicas,</li>
<li>adicionar/obter/remover componentes tipados,</li>
<li>iterar sobre entidades que tenham um conjunto específico de componentes,</li>
<li>manter máscaras (bitfield) de componentes por entidade,</li>
<li>limpar (remover) entidades sem componentes restantes.</li>
</ul>
<h2><a class="anchor" id="nucleo_ecs_funcs"></a>
API sugerida (assinaturas)</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>entidade { uint32_t id; uint32_t mascara; };</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>registro {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  entidade criar();</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> adicionar(entidade e);        <span class="comment">// adiciona componente T</span></div>
<div class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">bool</span> tem(uint32_t <span class="keywordtype">id</span>) <span class="keyword">const</span>;      <span class="comment">// verifica presença</span></div>
<div class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; T* obter(uint32_t <span class="keywordtype">id</span>);            <span class="comment">// retorna ponteiro ou nullptr</span></div>
<div class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; <span class="keywordtype">void</span> remover(uint32_t <span class="keywordtype">id</span>);        <span class="comment">// idempotente</span></div>
<div class="line"> </div>
<div class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span>... Ts&gt;</div>
<div class="line">  <span class="keywordtype">void</span> cada(std::function&lt;<span class="keywordtype">void</span>(uint32_t)&gt; f);            <span class="comment">// itera entidades com TODOS Ts</span></div>
<div class="line"> </div>
<div class="line">  uint32_t obterComponentes(uint32_t <span class="keywordtype">id</span>) <span class="keyword">const</span>;          <span class="comment">// máscara combinada</span></div>
<div class="line"> </div>
<div class="line">  std::unordered_map&lt;uint32_t, entidade&gt; entidades;</div>
<div class="line">};</div>
</div><!-- fragment --><h2><a class="anchor" id="nucleo_ecs_invariants"></a>
Invariantes e expectativas</h2>
<ul>
<li><code>criar()</code> deve gerar <code>id</code> único; máscara inicial inclui TRANSFORMACAO.</li>
<li><code>adicionar&lt;T&gt;</code> deve inicializar <code>meu_objeto = id</code> (conforme testes).</li>
<li><code>remover&lt;T&gt;</code> é segura mesmo quando componente inexistente.</li>
<li><code>cada&lt;<a class="el" href="structCompA.html">CompA</a>,<a class="el" href="structCompB.html">CompB</a>&gt;</code> itera apenas entidades que possuam todas as máscaras (bitwise &amp;).</li>
<li>Quando todos os componentes são removidos, a entidade deve ser removida do mapa <code>entidades</code>.</li>
</ul>
<dl class="section warning"><dt>Warning</dt><dd>Evitar use-after-free ao remover componentes durante iterações; documentar política de reuso de IDs.</dd></dl>
<hr  />
 <h1><a class="anchor" id="autotoc_md6"></a>
3) FASE</h1>
<h1><a class="anchor" id="fase"></a>
Responsabilidade</h1>
<p>Representar e carregar dados de uma fase/level a partir de texto (JSON ou similar).</p>
<h2><a class="anchor" id="fase_funcs"></a>
API sugerida</h2>
<div class="fragment"><div class="line"><span class="keyword">class </span><a class="code hl_struct" href="structfase.html">fase</a> {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">explicit</span> <a class="code hl_struct" href="structfase.html">fase</a>(<span class="keyword">const</span> std::string&amp; source);</div>
<div class="line">  <span class="keywordtype">void</span> carregar();               <span class="comment">// parseia `source` e popula membros</span></div>
<div class="line">  std::string nome() <span class="keyword">const</span>;      <span class="comment">// retorna nome da fase</span></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">  std::string m_source;</div>
<div class="line">  std::string m_nome;</div>
<div class="line">};</div>
<div class="ttc" id="astructfase_html"><div class="ttname"><a href="structfase.html">fase</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="fase_invariants"></a>
Invariantes e cuidados</h2>
<ul>
<li><code>carregar()</code> deve tratar erros de parse (lançar ou retornar estado de erro).</li>
<li><code>nome()</code> deve retornar valor consistente se <code>carregar()</code> foi bem-sucedido.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="autotoc_md8"></a>
4) SISTEMAS — BUBBLE_GUI (interface / caixa)</h1>
<h1><a class="anchor" id="bubble_gui"></a>
Responsabilidade</h1>
<p>Sistema de UI com hierarquia de caixas (containers) capaz de:</p><ul>
<li>manter uma árvore (interface -&gt; raiz -&gt; caixas filhas),</li>
<li>calcular/atualizar limites (x, y, z=largura, w=altura) dos filhos,</li>
<li>aplicar padding geral e padding por filho,</li>
<li>suportar layout modular (orientação horizontal/vertical),</li>
<li>suportar larguras/alturas fixas e percentuais (peso / crescimento),</li>
<li>flags de estilo: modular, largura_percentual, quebrar_linha, ativo/inativo,</li>
<li>atualização recursiva (netos também são atualizados).</li>
</ul>
<h2><a class="anchor" id="bubble_gui_data"></a>
Estruturas de estilo/caixa (exemplo)</h2>
<div class="fragment"><div class="line"><span class="keyword">struct </span>estilo {</div>
<div class="line">  <a class="code hl_class" href="structbecommons_1_1vetor4.html">fvet4</a> m_limites;         <span class="comment">// x, y, z=largura, w=altura</span></div>
<div class="line">  <a class="code hl_class" href="structbecommons_1_1vetor2.html">fvet2</a> m_padding;         <span class="comment">// padding individual (left/top)</span></div>
<div class="line">  <a class="code hl_class" href="structbecommons_1_1vetor2.html">fvet2</a> m_padding_geral;   <span class="comment">// padding geral do container</span></div>
<div class="line">  <span class="keywordtype">float</span> m_largura;         <span class="comment">// valor fixo ou peso quando largura_percentual</span></div>
<div class="line">  <span class="keywordtype">float</span> m_altura;</div>
<div class="line">  uint32_t m_flag_estilo;  <span class="comment">// bitflags (modular, largura_percentual, quebrar_linha)</span></div>
<div class="line">  <span class="keyword">enum</span> orientacao { horizontal, vertical } m_orientacao_modular;</div>
<div class="line">  <span class="keywordtype">bool</span> m_ativo;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>caixa {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  <span class="keyword">template</span>&lt;<span class="keyword">typename</span> T&gt; T* adicionar();   <span class="comment">// cria e retorna ponteiro para filho</span></div>
<div class="line">  estilo m_estilo;</div>
<div class="line">  std::vector&lt;caixa*&gt; filhos;</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>interface {</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">  caixa* m_raiz;</div>
<div class="line">  <span class="keywordtype">void</span> atualizarFilhos(caixa* parent);</div>
<div class="line">};</div>
<div class="ttc" id="astructbecommons_1_1vetor2_html"><div class="ttname"><a href="structbecommons_1_1vetor2.html">becommons::vetor2&lt; float &gt;</a></div></div>
<div class="ttc" id="astructbecommons_1_1vetor4_html"><div class="ttname"><a href="structbecommons_1_1vetor4.html">becommons::vetor4&lt; float &gt;</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="bubble_gui_layout"></a>
Regras e exemplos verificados por testes</h2>
<ul>
<li><code>atualizarFilhos(nullptr)</code> deve lançar <code>std::runtime_error</code>.</li>
<li>Se <code>parent-&gt;m_estilo.m_ativo == false</code>, <code>atualizarFilhos(parent)</code> não altera os limites dos filhos.</li>
<li>Layout horizontal com dimensões fixas:<ul>
<li>posição X do primeiro filho = padding_geral.x + child-&gt;m_estilo.m_padding.x</li>
<li>largura do filho = child-&gt;m_estilo.m_largura</li>
</ul>
</li>
<li>Percentuais / crescimento modular:<ul>
<li>Se <code>flag_estilo &amp; largura_percentual</code> então <code>m_largura</code> é tratada como peso.</li>
<li>espaço_disponivel = parent.largura - somatório(padding e paddings entre filhos)</li>
<li>largura_filho = peso_filho / soma_pesos * espaço_disponivel</li>
</ul>
</li>
<li>Layout vertical espelha regras para alturas (limites.w).</li>
<li>Padding geral e padding por filho afetam posições x/y esperadas.</li>
<li><code>quebrar_linha</code> força avanço na coordenada Y (ex.: próximo filho começa em Y + linha_size).</li>
<li>Atualização é recursiva: ao atualizar parent, filhos e netos são atualizados.</li>
</ul>
<h2><a class="anchor" id="bubble_gui_invariants"></a>
Cuidados / notas de implementação</h2>
<ul>
<li>Trabalhar com floats e preservar precisões (ex.: 42.5f).</li>
<li>Evitar divisões por zero quando soma de pesos == 0 (tratar como distribuição igual).</li>
<li>Definir comportamento quando padding excede tamanho do pai (clamping ou overflow controlado).</li>
<li><code>atualizarFilhos</code> deve ser determinística e sem efeitos colaterais não documentados.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="autotoc_md10"></a>
5) INFRAESTRUTURA DE TESTES (registro_testes, ASSERT_*)</h1>
<h1><a class="anchor" id="test_runner"></a>
Responsabilidade</h1>
<p>Registrar e executar testes organizados por classes e nomes, prover asserções:</p><ul>
<li>testes.classe(categoria, nome);</li>
<li>testes.adicionar(nomeCaso, lambda);</li>
<li>testes.rodarTestes() -&gt; int (exit code)</li>
</ul>
<p>Macros/helpers esperados:</p><ul>
<li>ASSERT_EQUAL(a, b)</li>
<li>ASSERT_TRUE(expr)</li>
<li>ASSERT_APPROX_EQUAL(a, b, eps)</li>
<li>ASSERT_THROW(expr, exception_type)</li>
<li>ASSERT_NO_THROW(expr)</li>
</ul>
<dl class="section note"><dt>Note</dt><dd>Mensagens descritivas em falhas facilitam debugging; o runner pode continuar rodando casos mesmo após falhas.</dd></dl>
<hr  />
 <h1><a class="anchor" id="autotoc_md12"></a>
6) main() — Orquestração</h1>
<h1><a class="anchor" id="main"></a>
Orquestração de execução de testes</h1>
<ul>
<li>desativa <code>depuracao::debug_ativo</code> se aplicável;</li>
<li>chama as funções que registram os testes:<ul>
<li>testarUtils();</li>
<li>testarNucleo();</li>
<li>testarSistemas();</li>
</ul>
</li>
<li>retorna <code>testes.rodarTestes();</code> como código de saída do processo.</li>
</ul>
<hr  />
 <h1><a class="anchor" id="autotoc_md14"></a>
Observações gerais e recomendações de implementação</h1>
<ul>
<li>Use enum class para flags + operadores bitwise inline para clareza.</li>
<li>Centralizar constantes (ex.: limites padrão 20x20, epsilon para floats).</li>
<li>Documentar política de IDs (reuso / incremento).</li>
<li>Garantir que remover componentes durante laços não cause UAF; definir política (ex.: marcação para remoção e limpeza pós-iteração).</li>
<li>Implementar comparações de float com epsilon em utilitário comum.</li>
<li>Validar e documentar comportamento com valores especiais (NaN / Inf).</li>
</ul>
<hr  />
 
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_dad9382648e46fed49a0fd0ec0acdc29.html">testes</a></li><li class="navelem"><a class="el" href="dir_1b8bae610dac23e4847b755a60c66498.html">src</a></li><li class="navelem"><a class="el" href="testes_2src_2main_8cpp.html">main.cpp</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
